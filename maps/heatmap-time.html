<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_3f8b51c2fe45bf600044c605a50b430b {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
            </style>
        
    <script src="https://cdn.jsdelivr.net/npm/iso8601-js-period@0.2.1/iso8601.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/pa7_hm.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/pa7_leaflet_hm.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-timedimension@1.1.1/dist/leaflet.timedimension.control.css"/>
    
            <script>
                var TDHeatmap = L.TimeDimension.Layer.extend({

            initialize: function(data, options) {
                var heatmapCfg = {
                    radius: 15,
                    maxOpacity: 1.,
                    scaleRadius: false,
                    useLocalExtrema: false,
                    latField: 'lat',
                    lngField: 'lng',
                    valueField: 'count',
                    defaultWeight : 1,
                };
                heatmapCfg = $.extend({}, heatmapCfg, options.heatmapOptions || {});
                var layer = new HeatmapOverlay(heatmapCfg);
                L.TimeDimension.Layer.prototype.initialize.call(this, layer, options);
                this._currentLoadedTime = 0;
                this._currentTimeData = {
                    data: []
                    };
                this.data= data;
                this.defaultWeight = heatmapCfg.defaultWeight || 1;
            },
            onAdd: function(map) {
                L.TimeDimension.Layer.prototype.onAdd.call(this, map);
                map.addLayer(this._baseLayer);
                if (this._timeDimension) {
                    this._getDataForTime(this._timeDimension.getCurrentTime());
                }
            },
            _onNewTimeLoading: function(ev) {
                this._getDataForTime(ev.time);
                return;
            },
            isReady: function(time) {
                return (this._currentLoadedTime == time);
            },
            _update: function() {
                this._baseLayer.setData(this._currentTimeData);
                return true;
            },
            _getDataForTime: function(time) {
                    delete this._currentTimeData.data;
                    this._currentTimeData.data = [];
                    var data = this.data[time-1];
                    for (var i = 0; i < data.length; i++) {
                        this._currentTimeData.data.push({
                                lat: data[i][0],
                                lng: data[i][1],
                                count: data[i].length>2 ? data[i][2] : this.defaultWeight
                            });
                        }
                    this._currentLoadedTime = time;
                    if (this._timeDimension && time == this._timeDimension.getCurrentTime() && !this._timeDimension.isLoading()) {
                        this._update();
                    }
                    this.fire('timeload', {
                        time: time
                    });
                }
        });

        L.Control.TimeDimensionCustom = L.Control.TimeDimension.extend({
            initialize: function(index, options) {
                var playerOptions = {
                    buffer: 1,
                    minBufferReady: -1
                    };
                options.playerOptions = $.extend({}, playerOptions, options.playerOptions || {});
                L.Control.TimeDimension.prototype.initialize.call(this, options);
                this.index = index;
                },
            _getDisplayDateFormat: function(date){
                return this.index[date.getTime()-1];
                }
            });
            </script>
                
</head>
<body>
    
    
            <div class="folium-map" id="map_3f8b51c2fe45bf600044c605a50b430b" ></div>
        
</body>
<script>
    
    
            var map_3f8b51c2fe45bf600044c605a50b430b = L.map(
                "map_3f8b51c2fe45bf600044c605a50b430b",
                {
                    center: [-18.566988146067416, -46.07343325842696],
                    crs: L.CRS.EPSG3857,
                    zoom: 6,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_e9c7d4b1c2115be4c82f6ecdda05a57a = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_3f8b51c2fe45bf600044c605a50b430b);
        
    

            var times = [1, 2, 3, 4, 5, 6, 7, 8];

            map_3f8b51c2fe45bf600044c605a50b430b.timeDimension = L.timeDimension(
                {times : times, currentTime: new Date(1)}
            );

            var heat_map_16a305c9d0c010e8a1ba4970456dc6d6Control = new L.Control.TimeDimensionCustom(['2023-12-28', '2023-12-29', '2023-12-30', '2023-12-31', '2024-01-01', '2024-01-02', '2024-01-03', '2024-01-04'], {
                autoPlay: true,
                backwardButton: true,
                displayDate: true,
                forwardButton: true,
                limitMinimumRange: 5,
                limitSliders: true,
                loopButton: true,
                maxSpeed: 10,
                minSpeed: 0.1,
                playButton: true,
                playReverseButton: true,
                position: "bottomleft",
                speedSlider: true,
                speedStep: 0.1,
                styleNS: "leaflet-control-timecontrol",
                timeSlider: true,
                timeSliderDrapUpdate: false,
                timeSteps: 1
                })
                .addTo(map_3f8b51c2fe45bf600044c605a50b430b);

                var heat_map_16a305c9d0c010e8a1ba4970456dc6d6 = new TDHeatmap([[[-15.79324, -47.87295], [-15.82147, -47.89506], [-22.8111, -43.3693], [-15.79926, -47.87163], [-22.9635, -43.3904], [-22.9142, -43.5627], [-22.7984, -43.3357], [-22.9274, -43.1823], [-22.8848, -43.2905], [-22.8452, -43.0938], [-22.8484, -43.0731], [-22.8033, -42.9614], [-22.8419, -43.2874], [-15.79925, -47.86179], [-15.7999, -47.87318], [-15.79115, -47.87966]], [[-22.9281, -43.2557], [-22.8569, -43.3088], [-15.80519, -48.0015], [-22.9031, -43.2517], [-22.8174, -43.3122], [-22.8925, -43.277], [-22.9635, -43.3904], [-15.79347, -47.87283], [-15.82153, -47.89507], [-22.9564, -43.1861], [-15.86741, -47.90785], [-15.76915, -47.78514], [-22.7682, -43.5088], [-22.9291, -43.1742], [-15.80033, -47.86827], [-15.78767, -47.8874], [-22.8103, -43.3777], [-22.919, -43.2182], [-22.8184, -43.3081], [-15.79509, -47.89373], [-15.78139, -47.88871], [-15.78679, -47.8912], [-22.8673, -43.248], [-15.80183, -47.87942], [-15.799, -47.87236], [-15.80423, -47.86794], [-15.79356, -47.87289], [-22.9364, -43.2455], [-22.9289, -43.2312], [-15.77174, -47.87296], [-15.77177, -47.87295], [-22.6473, -43.2632], [-22.8098, -43.3685], [-15.80201, -47.86756], [-22.7986, -43.3362], [-22.893, -43.4173], [-22.8749, -43.2452], [-15.79113, -47.87964], [-15.80138, -47.86764], [-15.80193, -47.86769], [-22.9364, -43.1912], [-22.8665, -43.2487], [-22.8971, -43.1884], [-15.76667, -47.8884], [-15.80129, -47.86589], [-15.80137, -47.86753], [-22.9134, -43.1866], [-22.913, -43.1672], [-22.9088, -43.1898], [-15.79677, -47.86586], [-15.81504, -47.94655], [-15.7966, -47.89301], [-15.76783, -47.8629], [-22.916, -43.2586], [-15.79611, -47.8696], [-22.8823, -43.2951], [-15.79968, -47.85943], [-22.9793, -43.392], [-15.79859, -47.89486], [-15.79114, -47.87962], [-15.79345, -47.87289], [-15.80199, -47.8539], [-22.7687, -43.4054], [-22.7086, -43.5691], [-22.8221, -43.332], [-22.8971, -43.1884], [-22.9561, -42.7808], [-22.8533, -43.2649], [-15.7995, -47.87074], [-15.79118, -47.87964], [-22.9511, -43.3804], [-15.80828, -47.90008], [-22.8483, -43.0731], [-15.79663, -47.85905], [-22.8847, -43.2905], [-22.8675, -43.2478], [-15.80535, -47.88622], [-22.9262, -43.2355], [-15.79925, -47.87058], [-15.79119, -47.87949], [-15.80133, -47.88378], [-15.70705, -47.90494], [-22.9837, -43.1962], [-15.78402, -47.89042], [-15.79926, -47.87063], [-15.79116, -47.8796], [-15.77214, -47.91673], [-15.79351, -47.97736], [-15.80165, -47.87935], [-15.82485, -47.92238], [-15.79838, -47.87211], [-15.76806, -47.93906], [-15.79958, -47.86712], [-15.8007, -47.86831], [-22.9168, -43.2198], [-22.969, -43.1845], [-15.76738, -47.93922], [-22.8788, -43.2463], [-22.8788, -43.2462], [-22.88, -43.2465], [-15.83183, -48.06168], [-22.5977, -43.2898], [-15.80521, -48.00145], [-15.80103, -47.89341], [-22.8751, -43.2458], [-22.8753, -43.2443]], [[-15.83198, -48.04171], [-22.8569, -43.3087], [-22.9075, -43.302], [-15.7724, -47.87309], [-15.77256, -47.87405], [-22.8781, -43.2446], [-22.8789, -43.2462], [-15.87786, -48.08251]], [[-22.9402, -43.1753], [-15.79364, -47.87395], [-15.79977, -47.85929]], [[-22.9335, -43.1845]], [[-15.79348, -47.87288], [-15.82201, -47.89491], [-15.80034, -47.86823], [-15.77177, -47.87299], [-15.79687, -47.85901], [-15.79519, -47.89384], [-15.78403, -47.89047], [-15.78824, -47.88449], [-15.78402, -47.89043], [-15.79667, -47.859], [-15.75765, -47.89394], [-22.8944, -43.2139], [-15.78399, -47.89043], [-22.9277, -43.2525], [-15.79994, -47.86804], [-15.77672, -47.88538], [-15.80184, -47.87924], [-15.78933, -47.87504], [-22.8972, -43.1887], [-15.79509, -47.89374], [-15.80339, -47.88493], [-22.917, -43.2199], [-15.7908, -47.87547], [-15.82151, -47.89501], [-15.79506, -47.89376], [-15.76893, -47.88341], [-15.79975, -47.87785], [-15.79104, -47.87986], [-15.7969, -47.86706], [-15.79608, -47.89137], [-22.9115, -43.2044], [-15.78824, -47.91381], [-15.79954, -47.87079], [-22.9363, -43.1912], [-15.8043, -47.8678], [-15.81742, -47.86791], [-15.7772, -47.91177], [-15.76856, -47.8753], [-15.79895, -47.87236], [-15.80028, -47.8683], [-15.81524, -47.9466], [-15.80085, -47.87921], [-15.86984, -47.93206], [-22.9277, -43.2541], [-15.80375, -47.86923], [-15.7666, -47.88711], [-15.77247, -47.87336], [-15.79515, -47.87198], [-22.9364, -43.1912], [-15.75792, -47.91518], [-22.9095, -43.1702], [-22.9021, -43.1826], [-15.79616, -47.86961], [-15.79929, -47.86177], [-15.75553, -47.89341], [-22.9369, -43.1903], [-22.9003, -43.1786], [-22.9089, -43.1897], [-15.82336, -47.89769], [-22.8587, -43.3214], [-22.8942, -43.2147], [-22.9279, -43.2543], [-22.9547, -43.1698], [-22.9059, -43.2686], [-15.81628, -48.09581], [-15.79074, -47.87554], [-15.79505, -47.89373], [-22.879, -43.2434], [-15.64443, -47.82426], [-15.78399, -47.89042], [-15.80328, -47.8849], [-15.78185, -47.88764], [-15.79673, -47.86607], [-15.86967, -47.93241], [-22.9364, -43.1911], [-15.80031, -47.86824], [-15.79974, -47.85936], [-15.80021, -47.87811], [-15.78934, -47.9109], [-15.79518, -47.89377], [-15.80128, -47.8836], [-22.9368, -43.1903], [-15.80319, -47.96231], [-15.80331, -47.96248], [-15.77886, -47.91973], [-15.76753, -47.93909], [-15.77172, -47.87303], [-22.9092, -43.1993], [-15.80157, -47.86924], [-15.80059, -47.88998], [-22.9001, -43.2076], [-22.9084, -43.1894], [-15.82372, -47.91714], [-15.81744, -47.86796], [-22.8642, -43.2282], [-15.77168, -47.873], [-15.80159, -47.86759], [-22.8677, -43.2151], [-22.9042, -43.1745], [-15.82228, -48.06841], [-22.8943, -43.2142]], [[-22.8315, -43.2915], [-22.9844, -43.1996], [-15.81587, -47.94317], [-15.7952, -47.87276], [-15.78401, -47.8904], [-15.79218, -47.91245], [-22.9089, -43.175], [-15.79667, -47.86791], [-22.9039, -43.1906], [-15.77178, -47.87296], [-15.79677, -47.86586], [-23.0184, -43.4662], [-15.79465, -47.89243], [-22.9122, -43.1885], [-15.79501, -47.89378], [-22.9095, -43.1702], [-15.76464, -47.89057], [-22.9122, -43.1886], [-15.80241, -47.88157], [-15.78407, -47.89045], [-15.80032, -47.86828], [-15.80037, -47.8682], [-15.86972, -47.93243], [-15.80094, -47.86973], [-15.79344, -47.8729], [-15.80292, -47.88434], [-15.77175, -47.87299], [-15.80163, -47.86737], [-22.867, -43.2507], [-15.79674, -47.86607], [-15.76538, -47.85979], [-15.78721, -47.88757], [-15.78754, -47.88728], [-15.76648, -47.87802], [-15.79389, -47.82611], [-15.79505, -47.89377], [-15.79951, -47.86163], [-15.79978, -47.86992], [-15.78398, -47.89043], [-15.80164, -47.86742], [-15.78407, -47.89051], [-15.7951, -47.89376], [-15.83058, -47.93056], [-15.79941, -47.95362], [-22.8956, -43.1868], [-22.9364, -43.1912], [-15.80711, -47.89619], [-15.80021, -47.86835], [-15.81371, -47.9062], [-15.79118, -47.87976], [-15.77892, -47.88759], [-22.815, -43.2927], [-15.80363, -47.87412], [-22.9278, -43.2525], [-22.902, -43.1819], [-22.9085, -43.1894], [-22.9277, -43.2538], [-15.82183, -48.0685], [-22.8676, -43.215], [-15.80508, -47.88202], [-15.79519, -47.89393], [-22.9277, -43.2539], [-15.80095, -47.86805], [-15.79517, -47.89381], [-22.8788, -43.2435], [-22.8936, -43.2142], [-22.8788, -43.2434], [-22.9149, -43.1789], [-15.7886, -47.88451], [-15.80889, -48.0318], [-15.81501, -47.94657], [-22.9158, -43.2214], [-15.79674, -47.86592], [-22.9111, -43.2044], [-22.8986, -43.2057], [-15.79109, -47.87966], [-15.77162, -47.86595], [-15.80331, -47.8613], [-15.79976, -47.85931], [-22.8664, -43.2487], [-22.8675, -43.2479], [-22.9111, -43.2045], [-15.77883, -47.91985], [-15.79216, -47.91249], [-15.77173, -47.87301], [-15.7992, -47.89721], [-22.9096, -43.1713], [-22.9171, -43.2199], [-15.77305, -47.92977], [-15.80291, -47.9263], [-22.9013, -43.1829], [-15.79979, -47.8593], [-15.80014, -47.89009], [-22.8971, -43.1885], [-15.80136, -47.86771], [-15.98927, -48.04404], [-15.80195, -47.85394], [-15.79429, -47.87046], [-22.9014, -43.1804], [-22.8975, -43.1876], [-15.79597, -47.87958], [-22.9085, -43.1753], [-15.7631, -47.92391], [-22.9364, -43.1912], [-15.79117, -47.87964], [-22.9134, -43.1864], [-15.76533, -47.85982], [-22.8944, -43.113], [-15.86768, -47.82578], [-15.77721, -47.91172], [-22.9127, -43.1803], [-22.9047, -43.1737], [-22.9093, -43.1704], [-22.9, -43.2076], [-15.80091, -47.86811], [-22.9688, -43.1844], [-15.80103, -47.89339], [-22.9083, -43.1729]], [[-15.86971, -47.92151]]],
                {heatmapOptions: {
                        radius: 15,
                        minOpacity: 0,
                        maxOpacity: 0.6,
                        scaleRadius: false,
                        useLocalExtrema: false,
                        defaultWeight: 1,
                        
                    }
                })
                .addTo(map_3f8b51c2fe45bf600044c605a50b430b);

        
</script>
</html>